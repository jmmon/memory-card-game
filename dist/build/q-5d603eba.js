import{l as _,N as A,I as w,q as P,C,m as E,$ as v,h as I,w as b,c as i,_ as l,v as s,p as k}from"./q-b0c5ea11.js";import{_auto_INITIAL as z,_auto_Settings as O,_auto_Card as W,_auto_CARD_RATIO as y}from"./q-6a038fbc.js";const $=()=>{const[e,r]=_();r.boardLayout.isLocked||e()},x=()=>{const[e]=_();e()},M=e=>{const[r,a]=_();e.track(()=>a.game.deck.size),!a.game.deck.isLocked&&(a.game.cards=new Array(a.game.deck.size).fill(0).map((o,t)=>t),!a.boardLayout.isLocked&&r())},B=()=>{const e=A({...z}),r=w(),a=w(),o=i(()=>l(()=>Promise.resolve().then(()=>n),void 0),"s_hUlztwmPxLw",[r,e]);return P("resize",i(()=>l(()=>Promise.resolve().then(()=>n),void 0),"s_0JTgM2C6HmE",[o,e])),C(i(()=>l(()=>Promise.resolve().then(()=>n),void 0),"s_3r7Ew54IGos",[o,e])),E(i(()=>l(()=>Promise.resolve().then(()=>n),void 0),"s_TtW71qRhXIc",[o])),v("div",{ref:a},{class:b(t=>` w-full max-h-full h-full p-4 grid ${t.boardLayout.isLocked?"overflow-x-auto":""} `,[e]),style:"grid-template-rows: 12% 88%;"},[I(O,{calculateBoard$:o,containerRef:a,store:e,[s]:{calculateBoard$:s,containerRef:s,store:s}},3,"0j_0"),v("div",{ref:r},{class:"grid",style:b(t=>({gridTemplateColumns:`repeat(${t.boardLayout.columns||4}, 1fr)`,gridTemplateRows:`repeat(${t.boardLayout.rows}, 1fr)`}),[e])},e.game.cards.map(t=>I(W,{i:t,store:e,[s]:{store:s}},3,"0j_1")),1,null)],1,"0j_2")},D=(e,r)=>{var g,L;const[a,o]=_(),t=((g=a.value)==null?void 0:g.offsetWidth)||e||0,c=((L=a.value)==null?void 0:L.offsetHeight)||r||0,m=t*c,R=m/o.game.deck.size,T=Math.sqrt(R/y),d=Math.ceil(c/T),u=c/d,h=u*y,f=Math.ceil(o.game.deck.size/d),p=h*u;o.cardLayout={width:h,height:u,area:p},o.boardLayout={...o.boardLayout,width:t,height:c,area:m,rows:d,columns:f},console.log({board:o.boardLayout,card:o.cardLayout,columns:f,rows:d})},n=Object.freeze(Object.defineProperty({__proto__:null,_hW:k,s_0JTgM2C6HmE:$,s_3r7Ew54IGos:M,s_TtW71qRhXIc:x,s_WMSGhFrivJ8:B,s_hUlztwmPxLw:D},Symbol.toStringTag,{value:"Module"}));export{k as _hW,$ as s_0JTgM2C6HmE,M as s_3r7Ew54IGos,x as s_TtW71qRhXIc,B as s_WMSGhFrivJ8,D as s_hUlztwmPxLw};
